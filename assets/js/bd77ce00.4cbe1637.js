"use strict";(self.webpackChunkdso_dev_blog=self.webpackChunkdso_dev_blog||[]).push([[715],{5546:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var s=i(4848),r=i(8453);const t={},o="Baby Tools Shop",a={id:"projects/baby-tools-shop/overview",title:"Baby Tools Shop",description:"In this blog post, we\u2019ll explore the setup and deployment of the Baby Tools Shop, a Django-based e-commerce application for managing and purchasing baby tools. This project is containerized using Docker and can be deployed to a virtual machine (VM) with ease. We'll cover how to set up the environment, configure the app, and run it in Docker.",source:"@site/docs/projects/baby-tools-shop/00-overview.md",sourceDirName:"projects/baby-tools-shop",slug:"/projects/baby-tools-shop/overview",permalink:"/devsecops-blog/docs/projects/baby-tools-shop/overview",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Truck Signs API",permalink:"/devsecops-blog/docs/projects/truck-signs-api/overview"},next:{title:"VM Setup",permalink:"/devsecops-blog/docs/projects/vm-setup/overview"}},l={},c=[{value:"Quickstart (README)",id:"quickstart-readme",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Deploying with Docker",id:"deploying-with-docker",level:2},{value:"Hints and Tips",id:"hints-and-tips",level:2},{value:"Example Photos",id:"example-photos",level:2},{value:"Home Page with login",id:"home-page-with-login",level:5},{value:"Home Page with filter",id:"home-page-with-filter",level:5},{value:"Product Detail Page",id:"product-detail-page",level:5},{value:"Register Page",id:"register-page",level:5},{value:"Login Page",id:"login-page",level:5},{value:"Conclusion",id:"conclusion",level:2},{value:"Contact",id:"contact",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"baby-tools-shop",children:"Baby Tools Shop"})}),"\n",(0,s.jsxs)(n.p,{children:["In this blog post, we\u2019ll explore the setup and deployment of the ",(0,s.jsx)(n.code,{children:"Baby Tools Shop"}),", a ",(0,s.jsx)(n.code,{children:"Django-based"})," e-commerce application for managing and purchasing baby tools. This project is containerized using Docker and can be deployed to a virtual machine (VM) with ease. We'll cover how to set up the environment, configure the app, and run it in ",(0,s.jsx)(n.code,{children:"Docker"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"quickstart-readme",children:"Quickstart (README)"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Python 3.9 and Django 4.0.2"}),"\n",(0,s.jsx)(n.li,{children:"A virtual environment for Python (venv)"}),"\n",(0,s.jsx)(n.li,{children:"Docker installed on the target machine"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Setting Up the Python Environment"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To get started with the ",(0,s.jsx)(n.strong,{children:"Baby Tools Shop"}),", first, create a virtual environment for Python:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python -m venv your_environment_name\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Activate the virtual environment:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"your_environment_name\\Scripts\\activate  # On Windows\r\nsource your_environment_name/bin/activate  # On Linux/Mac\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navigate to the project directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd babyshop_app\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install Django 4.0.2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"python -m pip install Django==4.0.2\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Install Dependencies"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Move to the project root and create a ",(0,s.jsx)(n.code,{children:"requirements.txt"})," file to list all dependencies:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd ..\r\nnano requirements.txt\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add the following to ",(0,s.jsx)(n.code,{children:"requirements.txt"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Django==4.0.2\r\npillow==10.4.0\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Apply Migrations"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Run Django's migration commands to set up the database:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"python manage.py makemigrations\r\npython manage.py migrate\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Create a Superuser"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Create a superuser for Django\u2019s admin panel:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:" python manage.py createsuperuser\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You will be prompted to enter a username, email, and password. Ensure you use a ",(0,s.jsx)(n.code,{children:"DJANGO_SUPERUSER_USERNAME"}),", ",(0,s.jsx)(n.code,{children:"DJANGO_SUPERUSER_EMAIL"}),", and a ",(0,s.jsx)(n.code,{children:"DJANGO_SUPERUSER_PASSWORD"})," for this."]}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Run the Development Server"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Run the Django development server:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:" python manage.py runserver\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You can access the admin panel at ",(0,s.jsx)(n.code,{children:"http://<your_ip>:8000/admin"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Log in with your superuser credentials and start creating products!"}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Modify ALLOWED_HOSTS for Production"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To deploy the Baby Tools Shop in a production environment, you need to modify the ",(0,s.jsx)(n.code,{children:"ALLOWED_HOSTS"})," setting in ",(0,s.jsx)(n.code,{children:"settings.py"})," to include your server\u2019s IP address or domain name:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ALLOWED_HOSTS = ['your_domain_or_ip']\n"})}),"\n",(0,s.jsx)(n.p,{children:"This ensures your Django app only accepts requests from trusted domains, protecting it against HTTP Host header attacks."}),"\n",(0,s.jsx)(n.h2,{id:"deploying-with-docker",children:"Deploying with Docker"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a Dockerfile"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In the project directory, create a Dockerfile to containerize the Django app:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'# Use an official Python image as the base\r\nFROM python:3.9-slim\r\n\r\n# Set the working directory inside the container\r\n\r\nWORKDIR /app\r\n\r\n# Copy only the requirements file and install dependencies\r\n\r\nCOPY requirements.txt ${WORKDIR}\r\nRUN python -m pip install --no-cache-dir -r requirements.txt\r\n\r\n# Copy the code into the working direction\r\n\r\nCOPY . ${WORKDIR}\r\n\r\n# Change to the app directory and run database migrations\r\n\r\nWORKDIR /app/babyshop_app\r\nRUN python manage.py makemigrations && python manage.py migrate\r\n\r\nEXPOSE 8025\r\n\r\n# This is the command that will be executed on container launch\r\n\r\nENTRYPOINT ["sh", "-c", "python manage.py runserver 0.0.0.0:8025"]\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Build the Docker Image"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Copy the project folder to your virtual machine and build the Docker image:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker build -t app_name .\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command creates a Docker image from your Dockerfile, tagged as app_name, ready for deployment."}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Create Docker Volumes"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To persist data across container restarts, create Docker volumes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker volume create babyshop_db\r\ndocker volume create babyshop_media\r\ndocker volume create babyshop_static\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"babyshop_db: Volume for storing database data."}),"\n",(0,s.jsx)(n.li,{children:"babyshop_media: Volume for storing user-uploaded media files."}),"\n",(0,s.jsx)(n.li,{children:"babyshop_static: Volume for storing static files like CSS and JS."}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Run the Docker Container"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Run the Docker container using the image you built:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker run -d --name app_name_container \\\r\n  -p 8025:8025 \\\r\n  -v babyshop_db:/app/babyshop_app/db \\\r\n  -v babyshop_media:/app/babyshop_app/media \\\r\n  -v babyshop_static:/app/babyshop_app/static \\\r\n  --restart on-failure \\\r\n  app_name\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command does the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Runs the container in detached mode (",(0,s.jsx)(n.code,{children:"-d"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Maps port ",(0,s.jsx)(n.code,{children:"8025"})," on the host to port ",(0,s.jsx)(n.code,{children:"8025"})," in the container, making the app accessible via ",(0,s.jsx)(n.code,{children:"http://<vm_ip>:8025/"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Mounts volumes to ensure data persistence."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Automatically restarts the container if it fails."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Restart policy (--restart on-failure): Automatically restarts the container if it fails, but not if stopped manually."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can access your app at ",(0,s.jsx)(n.code,{children:"http://<vm_ip>:8025/"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Access the Admin Panel"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To create a superuser inside the running container, first list active containers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker ps\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then, access the container's terminal:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"docker exec -it <container_name_or_id> /bin/bash\n"})}),"\n",(0,s.jsx)(n.p,{children:"Create the superuser:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"python manage.py createsuperuser\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once done, exit the container shell:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"exit\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Now, you can log into the admin panel at:\r\n",(0,s.jsx)(n.code,{children:"http://<vm_ip>:8025/admin"})]}),"\n",(0,s.jsx)(n.h2,{id:"hints-and-tips",children:"Hints and Tips"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Settings & Configuration"}),":\r\nAll relevant settings for the Django project can be found in babyshop_app/babyshop/settings.py. This includes settings for the database, static files, and security configurations."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Information"}),":\r\nYou can check the routing details by reviewing the urls.py files located in babyshop_app and its subdirectories. These files define the available routes for users to navigate through the application."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"detailed-explanation-writeup",children:"Detailed Explanation (Writeup)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Why Use Docker for Deployment?\r\nDocker simplifies the process of packaging and deploying applications by providing a consistent environment. By using Docker, you eliminate discrepancies between development and production environments, making the deployment process smooth and reliable. The use of Docker volumes ensures data persistence even if containers are stopped or recreated, which is crucial for production environments."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Configuring ALLOWED_HOSTS\r\nDjango\u2019s ",(0,s.jsx)(n.code,{children:"ALLOWED_HOSTS"})," setting ensures that only requests from specific IPs or domains are accepted, preventing potential security risks like HTTP Host header attacks. For production, it\u2019s essential to replace ",(0,s.jsx)(n.code,{children:"localhost"})," with your actual domain or IP address to allow external access."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Docker Volumes for Data Persistence\r\nWhen using Docker, containers are often stateless, meaning data stored inside them could be lost when the container is removed. By using Docker volumes for critical components like the database and media files, you ensure that important data is stored safely, even if the container is destroyed or restarted."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-photos",children:"Example Photos"}),"\n",(0,s.jsx)(n.h5,{id:"home-page-with-login",children:"Home Page with login"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Home Page with login",src:i(6127).A+"",title:"Home Page with login",width:"1897",height:"886"})}),"\n",(0,s.jsx)(n.h5,{id:"home-page-with-filter",children:"Home Page with filter"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Home Page with filter",src:i(1211).A+"",title:"Home Page with filter",width:"1913",height:"889"})}),"\n",(0,s.jsx)(n.h5,{id:"product-detail-page",children:"Product Detail Page"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Product Detail Page",src:i(2687).A+"",title:"Product Detail Page",width:"1891",height:"886"})}),"\n",(0,s.jsx)(n.h5,{id:"register-page",children:"Register Page"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Register Page",src:i(1902).A+"",title:"Register Page",width:"1909",height:"901"})}),"\n",(0,s.jsx)(n.h5,{id:"login-page",children:"Login Page"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Login Page",src:i(1290).A+"",title:"Login Page",width:"1907",height:"899"})}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"The Baby Tools Shop project showcases how to create and deploy a Django e-commerce application using Docker. By containerizing the app, you ensure a smooth and consistent deployment process. Docker volumes help persist data, while Docker\u2019s flexibility allows for easy scaling and management in a production environment."}),"\n",(0,s.jsx)(n.p,{children:"If you need further assistance, feel free to reach out!"}),"\n",(0,s.jsx)(n.h2,{id:"contact",children:"Contact"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pascal Nehlsen - ",(0,s.jsx)(n.a,{href:"https://www.linkedin.com/in/pascal-nehlsen",children:"LinkedIn"})," - ",(0,s.jsx)(n.a,{href:"mailto:mail@pascal-nehlsen.de",children:"mail@pascal-nehlsen.de"})]}),"\n",(0,s.jsxs)(n.li,{children:["Project Link: ",(0,s.jsx)(n.a,{href:"https://github.com/PascalNehlsen/baby-tools-shop",children:"https://github.com/PascalNehlsen/baby-tools-shop"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},6127:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/all-products-6b58ffc720987096bdaf8618ecac5798.png"},2687:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/details-35c935c179705f16fad0b5d221aa5da0.png"},1211:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/filter-13148c28c2a68ff8d52e0499ff718fcb.png"},1290:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/login-d3fcc91f5a7ae1ab8feb5a0e70443ce3.png"},1902:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/register-41e253315a6dcea54a6abeed6bd666d2.png"},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);